<section class="register-form-container">
  <div class="register-form-wrapper">
    <h2 class="form-title">Inscription</h2>
    <form [formGroup]="registerForm" class="register-form">
      <!-- Email Field -->
      <app-input-filed
        label="Email"
        type="email"
        [value]="registerForm.get('email')?.value"
        (ngModelChange)="registerForm.get('email')?.setValue($event)"
      ></app-input-filed>
      <div *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.invalid" class="error-message">
        <span *ngIf="registerForm.get('email')?.errors?.['email']">Veuillez entrer un email valide.</span>
      </div>

      <!-- Phone Number Field -->
      <app-input-filed
        label="Numéro de téléphone"
        type="tel"
        [value]="registerForm.get('phoneNumber')?.value"
        (ngModelChange)="registerForm.get('phoneNumber')?.setValue($event)"
      ></app-input-filed>
      <div *ngIf="registerForm.get('phoneNumber')?.touched && registerForm.get('phoneNumber')?.invalid" class="error-message">
        <span *ngIf="registerForm.get('phoneNumber')?.errors?.['pattern']">Le numéro doit contenir 8 à 15 chiffres.</span>
      </div>

      <!-- Password Field -->
      <app-input-filed
        label="Mot de passe"
        type="password"
        [value]="registerForm.get('password')?.value"
        (ngModelChange)="registerForm.get('password')?.setValue($event)"
      ></app-input-filed>
      <div *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.invalid" class="error-message">
        <span *ngIf="registerForm.get('password')?.errors?.['minlength']">Minimum 6 caractères requis.</span>
      </div>

      <!-- Confirm Password Field -->
      <app-input-filed
        label="Confirmation du mot de passe"
        type="password"
        [value]="registerForm.get('confirmPassword')?.value"
        (ngModelChange)="registerForm.get('confirmPassword')?.setValue($event)"
      ></app-input-filed>
      <div *ngIf="registerForm.get('confirmPassword')?.touched && registerForm.get('confirmPassword')?.invalid" class="error-message">
      </div>
      <div *ngIf="registerForm.errors?.['mismatch'] && registerForm.get('confirmPassword')?.touched" class="error-message">
        
      </div>

      <!-- Submit Button -->
      <app-action-button
        class="submit-button"
        label="S'inscrire"
        (click)="onSubmit()"
      ></app-action-button>

      <div class="login-section">
        <a href="/login" class="login-link">Se connecter</a>
        <img
          src="https://cdn.builder.io/api/v1/image/assets/TEMP/08e844ed332dd5301af3914b792ad638f7ade8461ddec0527b74b8d6c894c528?placeholderIfAbsent=true"
          class="login-icon"
          alt="Login icon"
        />
      </div>
    </form>
  </div>
</section>
